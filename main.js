(()=>{"use strict";const e=new class{async getQUizData(){const e=await fetch("https://opentdb.com/api.php?amount=10&type=multiple");return await e.json()}},t=new class{constructor(){this.question=document.querySelector(".question"),this.answerBtns=Array.from(document.querySelectorAll(".answer-btn")),this.answerBtnGroup=document.querySelector(".answer-btn-group"),this.progress=document.querySelector(".progress-bar")}populateQuestionUi(e,t){const s=e[t],n=Math.floor(6*Math.random()),r=s.incorrect_answers;this.question.textContent=this.replaceSpecialCharacters(s.question),r.splice(n,0,s.correct_answer);for(let e=0;e<r.length;e++)this.answerBtns[e].textContent=this.replaceSpecialCharacters(r[e])}replaceSpecialCharacters(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}showAnswerAlert(e){const t=document.createElement("div");t.className="alert alert-success",t.textContent="The correct answer is "+e,this.answerBtnGroup.insertBefore(t,document.querySelector(".row-1"))}addBtnClasses(e,t){e.textContent===t?(e.classList.remove("btn-info"),e.classList.add("btn-success")):(e.classList.remove("btn-info"),e.classList.add("btn-danger"),this.answerBtns.forEach((e=>{e.textContent===t&&(e.classList.remove("btn-info"),e.classList.add("btn-success"))})))}removeAlert(){document.querySelector(".alert").remove()}playSoundEffect(e){const t=new Audio("./audio/correct_answer.mp3"),s=new Audio("./audio/wrong_answer.mp3");"correct"===e?t.play():s.play()}updateScoreAndQuestionNum(){}},s=new class{constructor(){this.questions,this.questionNumber=0,this.score=0}initiateGame(e){this.questions=e.results}nextQuestion(){this.questionNumber++}checkAnswer(e){const s=e.textContent,n=this.questions[this.questionNumber].correct_answer;t.showAnswerAlert(n),t.addBtnClasses(e,n),s===n?(this.score++,t.playSoundEffect("correct")):t.playSoundEffect("incorrect")}};window.addEventListener("DOMContentLoaded",(function(n){e.getQUizData().then((e=>{s.initiateGame(e),t.populateQuestionUi(s.questions,s.questionNumber)}))})),t.answerBtnGroup.addEventListener("click",(e=>{e.target.classList.contains("answer-btn")&&s.checkAnswer(e.target),e.preventDefault()}))})();